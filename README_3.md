# Базовый чтоб не косячить раздел 4.
![id](https://images.universe.com/3ec98038-5c4f-4c14-9f38-3975ea9027af/-/progressive/yes/-/inline/yes/)
* суть в том что, здесь пропишим что и чем являеться поможет понимать процессы

## Создаем более реальный и более продвинутый проект
### Задача написать окно регистрации пользователя где он указвает данные а программа их запоминает
#### 1. Подготовка
* Для проекта используеться [element.io](https://element.eleme.io/#/en-US) для графического оформления
* 1. Переходим на [CLI утановку](https://element.eleme.io/#/en-US/component/installation) и пользуемся инструкцией
```
npm i element-ui -S
```
1. Вносим изменения в фаил main.js
```js
import Vue from 'vue';
import ElementUI from 'element-ui';
import 'element-ui/lib/theme-chalk/index.css';
import App from './App.vue';

Vue.use(ElementUI);

Vue.config.productionTip = false

new Vue({
  render: h => h(App),
}).$mount('#app')
```
#### 2. Создаем папку components  где будем хранить все компаненты проекта

нам понадобяться для базы страницы
1. Голова -  v-header.vue 
2. Тело -  v-body.vue и 
3. Ноги v-footer.vue 
4. Для регистрации добавим фаил v-registr.vue
5. Для авторизации v-auth.vue

#### Создаем эти файлы в папке components. Таким образом мы разделяем отвественость среди компанентов

Дальше продумываем зависимости между компанентами если тяжело в голове ручку и бумашку в руки
1. Голова и ноги будут автономы, но в голове флаг о регистрации
2. Тело зависимо от регистрации, дочерним будет именно регистрация
* Для закрепления и понимания процесов пропишим и прокоментируем компанент App
```js
<template>
  <div id="app">
    <!--app мы прописываем компаненты других файлов используя имя компанента указанное в name -->
    <v-header/>
    <v-body/>
    <v-footer/>
  </div>
</template>

<script>
import VBody from './components/v-body.vue'
import VFooter from './components/v-footer.vue'
import VHeader from './components/v-header.vue'
// импортируем компаненты
// импорт мы прописываем как компанент будет закинут в components что-то вроде ссылки или псевдонима
// имя компанета должно быть с заглавной буквы (если правельно все настроено ИДЕ сама справляеться с подключением комапанентов и прописыванием путей)
// в from мы прописываем адрес до компанента который хотим использовать
// особености прописывания адресов './' означеет что нам надо войти папку или фаил находящися на уровне нашего фала
// "../" что нам надо выйти из паки в которой находиться наш фаил и искать отбъек выше уровня нашего файла


export default {
  name: 'App', 

  data(){
        return{
        }
  },
  props:{},
  
  //здесь мы прописываем компанеты котрые отразяться в теле App
  components: {
    VBody,
    VFooter,
    VHeader
  },
  methods:{},
  
}
</script>
```

## Слудующий шаг это понимание зависимостей между компанентами и как данные передаються между ними

### 1. В нашем случаи компанент App родиртель а (v-header) (v-body) (v-footer) дочерние компаненты, значит данные спускаються как бы вниз
> Родительский компанент вкурсе о дочернем в то время как дочерний может не знать о родительском
### Реализация передачи данных дочерним компанентам
1. Работать будем с v-body на него положим отвественость за отрисовку всей информации на страницы
2. В v-body используем принцим связвания между данными 
* а именно с авторизации приходят данные нас интересует ID его мы запоминаем и хнаним
* на ID мы в дальнейшем цепляем связь меду таблицей пользователей и таблицей даных хронящий инфо мользователя
* так же на ID можно будет цеплять действия пользователя покупки, историю и подобное так же для этого сделав отделью БД

3. Перейдем к реализации в виде кода в начале создадим папку stor где будем хранить фаил v-user.vue тут будет отражаться страница пользователя
> не плохой идеей будет цепануть этот фаил v-header, но это может привести к не меньшим проблемам
```html
<template>
    <div class="v-user">
        <h1>Привет пользователь {{this_user.name_User}} ! </h1>
        <!--здесь мы через {{}} обращаемся к объекту this_user
        хотим получить от него .name_User которое прилитит от родительского компанента -->
    </div>
    
</template>
```
```js
export default{
    name: "v-user", // имя

    props:{               // какие данные мы планируем получить от родитея
        this_user:{       // то имя по которому мы будем к нему обращаться
            type: Object, // тип данных Object самый универсальный по сути в js почти все Object
            default(){    // здесь мы присваиваем дефолтное значение если вдруг значение не прилитит или не загрузиться
                return {};
            }
        }
    }
}
```
4. Переходим в  v-body в теории слегка перегруженому задачами, но рабочему
```js
data(){
        return{
            user:{
              name_User: "Вася Пупкин"
            }, // создаем данные которые планируем передавать
        };
    },
```
```html
<template>
    <div class="v-body">
        <v-user 
            :this_user="user" 
            <!-- А теперь через v-dind: мы оганизуем передачу даных между компанентами-->
        />
    </div>
</template>
```
### v-user по усти независим от v-body он просто ждет что сверху прилетит отбъект и внем будет свойство .name_User

## Переходим к прокидыванию данных с низу вверх 
* вспоминим о такой вещи как авторизации и файле v-auth.vue
* в теори пользователь вводит данные авторизации и если они правельные мы его пускаем на страницу пользователя
1. Открываем v-auth.vue прописываем код добавляя немного красоты и функциональности
```js
<template>
<!-- Код можно упростить банальным input и цеплять к нему v-model="this_User.(имя свойства)"-->
    <div class="v-auth">
        <el-form>
            <h1 align="center">Авторизация на сайте</h1>
            <el-form-item >            
                <el-input type="text" placeholder="Имя пользователя" 
                            v-model="this_User.name_User">
                            <!--здесь мы используем метод с помощью которого цепляем данные-->
                    <template slot="prepend">
                        <i class="el-icon-s-custom"></i>
                    </template>
                </el-input>
            </el-form-item>

            <el-form-item>
                <el-input type="password" placeholder="Пароль"
                           v-model="this_User.pasvord_User">
                    <template slot="prepend">
                        <i class="el-icon-unlock"></i>
                    </template>
                </el-input>
            </el-form-item>
            <el-button align="center" type="primary" @click="is_Users">Авторизироваться</el-button>
            <!--При нажатии на кнопку сработает метод is_Users-->
        </el-form>
    </div>  
</template>

<script>
export default {
    name: "v-auth",
     data(){
        return{
          // создаем данные с которыми будем работать
            this_User:{
                name_User: "",
                pasvord_User: "",
            }
        }
     },
    props:{},
    components: {},
    methods:{
        is_Users(){
          // здесь главная магия с помощью этого метода мы прокидваем данные в родительский элемент
            this.$emit("is_user_arr_users", this.this_User);
          // is_user_arr_users - это то под каким именем компанент будет приниматься родительским компанентом
          // this.this_User - это объект который мы прокидываем вверх
        }
    },
}
</script>
```
### Данный компанент понятия не имеет о родительский компанентах, даже по большому счету в них не нуждаеться

2. Переходим в v-body где добавим авторизацию и ее логику
```js
<template>
    <div class="v-body">
        <v-auth 
            @is_user_arr_users="new_user"
            <!--здесь с помощью v-on: 
             приходящие снизу данные is_user_arr_users цепляються к методу new_user-->
            v-if="!isAuth"
            <!--здесь проверяем истенность вражения при авторизации-->    
        />
        <v-user 
            v-else
            :this_user="user"
        />
    </div>
</template>

<script>
import VUser from './store/v-user.vue';
import VAuth from './v-auth.vue'

export default {
    name: "v-body",
    components:{
        VAuth,   
        VUser,
    },

    data(){
        return{
            user:{},
            isAuth: false,
            // просто флаг для if выражения для закрытия меню авторизации
        };
    },
    methods:{
        //сам метод получающий объект из дочернего компанента и реализующий какую-то логику с ним
        new_user(data){      
            this.user = data;
            this.isAuth = true;
        },
    },
}
</script>
```
стоит поиграть с данными в компанентах и их реализацией для закрипления материала
## На этом закончим очередной этам знакомства с Vue





